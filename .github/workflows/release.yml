# name: Release

# on:
#   push:
#     tags:
#       - '*.*.*'

# jobs:
#   test:
#     name: Test
#     runs-on: ubuntu-latest
#     steps:
#       - name: Checkout code
#         uses: actions/checkout@v4

#       - name: Set up Python 3.10
#         uses: actions/setup-python@v5
#         with:
#           python-version: "3.10"

#       - name: Install Poetry
#         run: |
#           curl -sSL https://install.python-poetry.org | python - -y

#       - name: Update PATH
#         run: echo "$HOME/.local/bin" >> $GITHUB_PATH
#       - name: Install dependecies
#         run: poetry install
#       - name: Run Tox
#         run: poetry run tox
#   release:
#     name: Release
#     runs-on: ubuntu-latest
#     steps:
#       - name: Checkout code
#         uses: actions/checkout@v4

#       - name: Set up Python 3.10
#         uses: actions/setup-python@v5
#         with:
#           python-version: "3.10"

#       - name: Install Poetry
#         run: |
#           curl -sSL https://install.python-poetry.org | python - -y

#       - name: Update PATH
#         run: echo "$HOME/.local/bin" >> $GITHUB_PATH

#       - name: Build project for distribution
#         run: poetry build

#       - name: Check Version
#         id: check-version
#         run: |
#           [[ "$(poetry version --short)" =~ ^[0-9]+\.[0-9]+\.[0-9]+$ ]] || echo prerelease=true >> $GITHUB_OUTPUT

#       - name: Create Release
#         uses: ncipollo/release-action@v1
#         with:
#           artifacts: "dist/*"
#           token: ${{ secrets.GITHUB_TOKEN }}
#           draft: true
#           prerelease: steps.check-version.outputs.prerelease == 'true'

#       - name: Publish to PyPI
#         env:
#           POETRY_PYPI_TOKEN_PYPI: ${{ secrets.PYPI_TOKEN }}
#         run: poetry publish
